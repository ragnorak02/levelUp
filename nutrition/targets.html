<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Nutrition — Targets</title>
<style>
  :root{
    --bg:#0b0f14; --card:#131a22; --ink:#e8eef6; --muted:#9fb0c7;
    --accent:#4CAF50; --accent2:#2dd4bf;
    --ring:#2a3543; --good:#22c55e; --shadow: 0 10px 30px rgba(0,0,0,.35);
    --radius:18px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial;
    background:
      radial-gradient(1200px 800px at 50% -200px, rgba(76,175,80,.15), transparent 55%),
      radial-gradient(900px 700px at 10% 0%, rgba(45,212,191,.08), transparent 60%),
      var(--bg);
    color:var(--ink);
  }
  a{color:inherit; text-decoration:none}

  .topbar{
    position:sticky; top:0; z-index:20;
    background: linear-gradient(180deg, rgba(11,15,20,.95), rgba(11,15,20,.75));
    backdrop-filter: blur(10px);
    border-bottom:1px solid var(--ring);
  }
  .topbar-inner{
    max-width:600px; margin:0 auto;
    padding:10px;
    display:flex; align-items:center; gap:10px;
  }
  .back{
    all:unset; cursor:pointer;
    padding:8px 10px;
    border-radius:999px;
    border:1px solid var(--ring);
    background: rgba(19,26,34,.55);
    font-weight:900;
  }
  .topbar-title{font-weight:950; font-size:16px;}

  .wrap{max-width:600px; margin:0 auto; padding:12px; display:flex; flex-direction:column; gap:12px;}

  .card{
    background: var(--card);
    border:1px solid var(--ring);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding:16px;
  }

  .field{margin-bottom:16px;}
  .field:last-child{margin-bottom:0;}
  .field label{
    display:block;
    font-weight:900;
    font-size:13px;
    color:var(--muted);
    margin-bottom:6px;
  }
  .field input{
    width:100%;
    padding:10px 12px;
    border-radius:12px;
    border:1px solid var(--ring);
    background: rgba(255,255,255,.06);
    color:var(--ink);
    font-weight:900;
    font-size:16px;
    outline:none;
  }
  .field input:focus{
    border-color: rgba(76,175,80,.55);
    box-shadow: 0 0 0 3px rgba(76,175,80,.15);
  }
  .field .hint{
    font-size:11px;
    color:var(--muted);
    margin-top:4px;
  }

  .save-btn{
    all:unset;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:8px;
    width:100%;
    padding:12px;
    border-radius:14px;
    background: linear-gradient(135deg, rgba(76,175,80,1), rgba(45,212,191,1));
    color:#0b0f14;
    font-weight:950;
    font-size:15px;
  }
  .save-btn:active{transform: translateY(1px)}

  .saved-msg{
    text-align:center;
    color:var(--good);
    font-weight:900;
    font-size:13px;
    opacity:0;
    transition: opacity .3s;
  }
  .saved-msg.show{opacity:1}

  .presets{
    display:flex; gap:8px; flex-wrap:wrap; margin-bottom:12px;
  }
  .preset-btn{
    all:unset; cursor:pointer;
    padding:8px 12px;
    border-radius:999px;
    border:1px solid var(--ring);
    background: rgba(255,255,255,.06);
    color:var(--muted);
    font-weight:900;
    font-size:12px;
  }
  .preset-btn:hover{background: rgba(255,255,255,.10)}
  .preset-btn.active{
    background: rgba(76,175,80,.20);
    border-color: rgba(76,175,80,.40);
    color:var(--good);
  }
</style>
</head>
<body>
  <div class="topbar">
    <div class="topbar-inner">
      <a class="back" href="index.html">← Back</a>
      <div class="topbar-title">Daily Targets</div>
    </div>
  </div>

  <div class="wrap">
    <div class="card">
      <div style="font-weight:950; font-size:14px; margin-bottom:12px;">Quick Presets</div>
      <div class="presets">
        <button class="preset-btn" data-cal="1800" data-p="140" data-c="180" data-f="70">Cut (1800)</button>
        <button class="preset-btn" data-cal="2200" data-p="165" data-c="250" data-f="75">Maintain (2200)</button>
        <button class="preset-btn" data-cal="2800" data-p="190" data-c="330" data-f="90">Bulk (2800)</button>
      </div>

      <div class="field">
        <label for="targetCal">Daily Calories</label>
        <input type="number" id="targetCal" placeholder="2200" inputmode="numeric" />
        <div class="hint">Total daily calorie goal</div>
      </div>

      <div class="field">
        <label for="targetProtein">Protein (g)</label>
        <input type="number" id="targetProtein" placeholder="165" inputmode="numeric" />
        <div class="hint">~1g per pound of body weight for muscle building</div>
      </div>

      <div class="field">
        <label for="targetCarbs">Carbs (g)</label>
        <input type="number" id="targetCarbs" placeholder="250" inputmode="numeric" />
      </div>

      <div class="field">
        <label for="targetFat">Fat (g)</label>
        <input type="number" id="targetFat" placeholder="75" inputmode="numeric" />
      </div>

      <button class="save-btn" id="saveBtn">Save Targets</button>
      <div class="saved-msg" id="savedMsg">Targets saved!</div>
    </div>
  </div>

  <script>
    'use strict';
    const TARGETS_KEY = 'nutrition:targets';

    function loadTargets(){
      try { return JSON.parse(localStorage.getItem(TARGETS_KEY)) || {}; }
      catch { return {}; }
    }

    function saveTargets(data){
      localStorage.setItem(TARGETS_KEY, JSON.stringify(data));
    }

    const calInput = document.getElementById('targetCal');
    const proInput = document.getElementById('targetProtein');
    const carbInput = document.getElementById('targetCarbs');
    const fatInput = document.getElementById('targetFat');
    const saveBtn = document.getElementById('saveBtn');
    const savedMsg = document.getElementById('savedMsg');

    // Load existing
    const existing = loadTargets();
    if(existing.dailyCalories) calInput.value = existing.dailyCalories;
    if(existing.dailyProtein) proInput.value = existing.dailyProtein;
    if(existing.dailyCarbs) carbInput.value = existing.dailyCarbs;
    if(existing.dailyFat) fatInput.value = existing.dailyFat;

    // Presets
    document.querySelectorAll('.preset-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        calInput.value = btn.dataset.cal;
        proInput.value = btn.dataset.p;
        carbInput.value = btn.dataset.c;
        fatInput.value = btn.dataset.f;

        document.querySelectorAll('.preset-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
      });
    });

    saveBtn.addEventListener('click', () => {
      const data = {
        dailyCalories: Number(calInput.value) || 2200,
        dailyProtein: Number(proInput.value) || 165,
        dailyCarbs: Number(carbInput.value) || 250,
        dailyFat: Number(fatInput.value) || 75,
      };
      saveTargets(data);

      savedMsg.classList.add('show');
      setTimeout(() => savedMsg.classList.remove('show'), 2000);
    });
  </script>
</body>
</html>
